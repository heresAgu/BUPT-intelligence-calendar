<!-- pages/course-detail/course-detail.wxml -->
<view class="course-detail-page">
  <!-- å¤´éƒ¨ -->
  <view class="header">
    <view class="nav-back" bindtap="goBack">â† è¿”å›</view>
    <text class="title">è¯¾ç¨‹è¯¦æƒ…</text>
  </view>

  <!-- è¯¾ç¨‹ä¿¡æ¯å¡ç‰‡ -->
  <scroll-view class="content" scroll-y>
    <!-- è¯¾ç¨‹å¡ç‰‡ -->
    <view class="course-card">
      <view class="course-color" style="background-color: {{courseData.color}}"></view>
      <view class="course-content">
        <view class="course-name">{{courseData.name}}</view>
        
        <view class="info-section">
          <view class="info-item" wx:if="{{courseData.teacher}}">
            <view class="info-label">æˆè¯¾æ•™å¸ˆ</view>
            <view class="info-value">{{courseData.teacher}}</view>
          </view>
          
          <view class="info-item" wx:if="{{courseData.time}}">
            <view class="info-label">ä¸Šè¯¾æ—¶é—´</view>
            <view class="info-value">{{courseData.time}}</view>
          </view>
          
          <view class="info-item" wx:if="{{courseData.classroom}}">
            <view class="info-label">ä¸Šè¯¾åœ°ç‚¹</view>
            <view class="info-value">{{courseData.classroom}}</view>
          </view>
        </view>
        
        <!-- ç»Ÿè®¡ä¿¡æ¯ -->
        <view class="stats-section">
          <view class="stats-grid">
            <view class="stat-item">
              <view class="stat-value">{{homeworkStats.total}}</view>
              <view class="stat-label">ä½œä¸šæ€»æ•°</view>
            </view>
            <view class="stat-item">
              <view class="stat-value completed">{{homeworkStats.completed}}</view>
              <view class="stat-label">å·²å®Œæˆ</view>
            </view>
            <view class="stat-item">
              <view class="stat-value pending">{{homeworkStats.pending}}</view>
              <view class="stat-label">å¾…å®Œæˆ</view>
            </view>
          </view>
        </view>
      </view>
    </view>

    <!-- ç›¸å…³ä½œä¸šåˆ—è¡¨ -->
    <view class="homework-section" wx:if="{{relatedHomework.length > 0}}">
      <view class="section-header">
        <view class="section-title">ğŸ“‹ ç›¸å…³ä½œä¸š</view>
        <view class="section-count">{{relatedHomework.length}}ä¸ª</view>
      </view>
      
      <view class="homework-list">
        <view 
          class="homework-item" 
          wx:for="{{relatedHomework}}" 
          wx:key="id"
          bindtap="viewHomework"
          data-id="{{item.id}}"
        >
          <view class="homework-left">
            <view class="status-dot {{item.completed ? 'completed' : 'pending'}}"></view>
          </view>
          
          <view class="homework-content">
            <view class="homework-title">{{item.title}}</view>
            <view class="homework-details">
              <view class="detail-item">
                <view class="detail-icon">â°</view>
                <text>æˆªæ­¢ï¼š{{item.deadline}}</text>
              </view>
              <view class="detail-item">
                <view class="status-badge {{item.completed ? 'completed' : 'pending'}}">
                  {{item.completed ? 'å·²å®Œæˆ' : 'æœªå¼€å§‹'}}
                </view>
              </view>
            </view>
          </view>
          
          <view class="homework-right">â†’</view>
        </view>
      </view>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-homework" wx:if="{{relatedHomework.length === 0}}">
      <view class="empty-icon">ğŸ“„</view>
      <view class="empty-title">æš‚æ— ç›¸å…³ä½œä¸š</view>
      <view class="empty-desc">æ­¤è¯¾ç¨‹ç›®å‰æ²¡æœ‰ä½œä¸šå®‰æ’</view>
    </view>

    <!-- æ“ä½œæŒ‰é’® -->
    <view class="action-buttons">
      <button class="btn-edit" bindtap="goToEdit">ç¼–è¾‘è¯¾ç¨‹</button>
      <button class="btn-delete" bindtap="confirmDelete">åˆ é™¤è¯¾ç¨‹</button>
    </view>
  </scroll-view>
</view>